(this["webpackJsonpsuper-chat"]=this["webpackJsonpsuper-chat"]||[]).push([[0],{34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(13),r=a.n(n),i=(a(18),a(17),a(11)),o=a(14),u=a(10);a(21);u.a.initializeApp({apiKey:"AIzaSyC-8HuTyOfO8FLAHw5DylheVYot9pZynOI",authDomain:"superchat-clm.firebaseapp.com",projectId:"superchat-clm",storageBucket:"superchat-clm.appspot.com",messagingSenderId:"726455511635",appId:"1:726455511635:web:d19fd5176f64b1ff23b4a6",measurementId:"G-3PNRCPC3BE"}),u.a.analytics();var l=u.a.auth(),d=u.a.firestore(),j=(a(34),a(4));var A=function(){var e=Object(o.a)(l);return Object(i.a)(e,1)[0]&&Object(j.jsx)("button",{className:"sign-out-button",onClick:function(){return l.signOut()},children:"Sign Out"})};a(36);var m=function(){return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"SuperChat"}),Object(j.jsx)(A,{})]})},b=a(20),p=a.n(b),h=a(23),O=a(24);a(38);var g=function(e){var t=e.message,a=t.uid,s=t.text,c=t.displayName,n=t.createdAt,r=t.photoURL,i={text:s,createdAt:n};console.log(i);var o=a===l.currentUser.uid?"sent":"received";return Object(j.jsxs)("div",{className:"message message-".concat(o),children:[Object(j.jsx)("img",{className:"message-image",src:r||"https://api.adorable.io/avatars/23/abott@adorable.png",alt:"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAAKSURBVHicY2AAAAACAAFIr6RxAAAAAElFTkSuQmCC"}),Object(j.jsxs)("div",{className:"message-words",children:[Object(j.jsxs)("div",{className:"message-info",children:[Object(j.jsx)("p",{className:"message-author",children:c}),Object(j.jsx)("p",{className:"message-date",children:null!=n?new Date(1e3*n.seconds).toLocaleDateString("en-US"):""}),Object(j.jsx)("p",{})]}),Object(j.jsx)("p",{className:"message-text",children:s})]})]})},f=a(25),x=a.n(f);a(39);var v=function(){var e=Object(s.useRef)(),t=d.collection("messages"),a=t.orderBy("createdAt").limit(25),c=Object(O.a)(a,{idField:"id"}),n=Object(i.a)(c,1)[0],r=Object(s.useState)(""),o=Object(i.a)(r,2),A=o[0],m=o[1],b=function(){var a=Object(h.a)(p.a.mark((function a(s){var c,n,r,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),c=l.currentUser,n=c.uid,r=c.displayName,i=c.photoURL,a.next=4,t.add({text:A,createdAt:u.a.firestore.FieldValue.serverTimestamp(),uid:n,displayName:r,photoURL:i});case 4:m(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"chat-room",children:[Object(j.jsxs)("main",{className:"messages",children:[n&&n.map((function(e){return Object(j.jsx)(g,{message:e},e.id)})),Object(j.jsx)("span",{ref:e})]}),Object(j.jsxs)("form",{className:"message-form",onSubmit:b,children:[Object(j.jsx)("input",{className:"message-input",value:A,onChange:function(e){return m(e.target.value)},placeholder:"Type a message"}),Object(j.jsx)("button",{className:"send-button",type:"submit",disabled:!A,children:Object(j.jsx)(x.a,{fontSize:"large"})})]})]})};a(48);var N=function(){return Object(j.jsxs)("div",{className:"sign-in",children:[Object(j.jsx)("button",{className:"sign-in-button",onClick:function(){var e=new u.a.auth.GoogleAuthProvider;l.signInWithPopup(e)},children:"Sign in with Google"}),Object(j.jsx)("p",{className:"community-guidelines",children:"Do not violate the community guidelines or you will be banned for life!"})]})};a(49);var y=function(){var e=Object(o.a)(l),t=Object(i.a)(e,1)[0];return Object(j.jsx)("section",{className:"body",children:t?Object(j.jsx)(v,{}):Object(j.jsx)(N,{})})};a(50);var w=function(){return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(m,{}),Object(j.jsx)(y,{})]})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.26783433.chunk.js.map